"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\nconst USERNAME = \"admin\";\nconst PASSWORD = \"Ankit@123\";\nconst LoginPage = (param)=>{\n    let { onLoginSuccess } = param;\n    _s();\n    const [username, setUsername] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [password, setPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const handleSubmit = (e)=>{\n        e.preventDefault();\n        if (username === USERNAME && password === PASSWORD) {\n            setError(\"\");\n            onLoginSuccess();\n        } else {\n            setError(\"Invalid username or password\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            maxWidth: 400,\n            margin: \"auto\",\n            padding: 20\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Login\"\n            }, void 0, false, {\n                fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                lineNumber: 27,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSubmit,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: 10\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                children: \"Username:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                                lineNumber: 30,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: username,\n                                onChange: (e)=>setUsername(e.target.value),\n                                style: {\n                                    width: \"100%\",\n                                    padding: 8\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                                lineNumber: 31,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                        lineNumber: 29,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: 10\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                children: \"Password:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                                lineNumber: 39,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"password\",\n                                value: password,\n                                onChange: (e)=>setPassword(e.target.value),\n                                style: {\n                                    width: \"100%\",\n                                    padding: 8\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                        lineNumber: 38,\n                        columnNumber: 9\n                    }, undefined),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"red\",\n                            marginBottom: 10\n                        },\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                        lineNumber: 47,\n                        columnNumber: 19\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"submit\",\n                        style: {\n                            padding: \"8px 16px\"\n                        },\n                        children: \"Login\"\n                    }, void 0, false, {\n                        fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                        lineNumber: 48,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                lineNumber: 28,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n        lineNumber: 26,\n        columnNumber: 5\n    }, undefined);\n};\n_s(LoginPage, \"lABZ+K3zbnEaFQvlduiFXLNOf5A=\");\n_c = LoginPage;\nconst HomePage = ()=>{\n    _s1();\n    const [loggedIn, setLoggedIn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [llmResponse, setLlmResponse] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [recording, setRecording] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const mediaRecorderRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioChunksRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const [voiceSample, setVoiceSample] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [sampling, setSampling] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [conversationContext, setConversationContext] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Start recording voice sample on first login\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (loggedIn && !voiceSample && !sampling) {\n            setSampling(true);\n            alert(\"Please record a short voice sample by pressing OK and speaking for 5 seconds.\");\n            navigator.mediaDevices.getUserMedia({\n                audio: true\n            }).then((stream)=>{\n                const recorder = new MediaRecorder(stream);\n                mediaRecorderRef.current = recorder;\n                audioChunksRef.current = [];\n                recorder.ondataavailable = (e)=>{\n                    audioChunksRef.current.push(e.data);\n                };\n                recorder.onstop = ()=>{\n                    const audioBlob = new Blob(audioChunksRef.current, {\n                        type: \"audio/webm\"\n                    });\n                    setVoiceSample(audioBlob);\n                    setSampling(false);\n                    stream.getTracks().forEach((track)=>track.stop());\n                    alert(\"Voice sample recorded and saved.\");\n                };\n                recorder.start();\n                setTimeout(()=>{\n                    recorder.stop();\n                }, 5000);\n            });\n        }\n    }, [\n        loggedIn,\n        voiceSample,\n        sampling\n    ]);\n    // Start or stop recording conversation and process audio in chunks with pause detection\n    const toggleRecording = ()=>{\n        if (recording) {\n            var // Stop recording\n            _mediaRecorderRef_current;\n            (_mediaRecorderRef_current = mediaRecorderRef.current) === null || _mediaRecorderRef_current === void 0 ? void 0 : _mediaRecorderRef_current.stop();\n            setRecording(false);\n            clearInterval(pauseCheckInterval.current);\n            pauseCheckInterval.current = null;\n        } else {\n            // Start recording\n            navigator.mediaDevices.getUserMedia({\n                audio: true\n            }).then((stream)=>{\n                const recorder = new MediaRecorder(stream);\n                mediaRecorderRef.current = recorder;\n                audioChunksRef.current = [];\n                recorder.ondataavailable = (e)=>{\n                    audioChunksRef.current.push(e.data);\n                    // Process audio chunk immediately for real-time behavior\n                    processAudioChunk(e.data);\n                };\n                recorder.onstop = ()=>{\n                    // Process any remaining audio chunks\n                    if (audioChunksRef.current.length > 0) {\n                        const audioBlob = new Blob(audioChunksRef.current, {\n                            type: \"audio/webm\"\n                        });\n                        processInterviewerAudio(audioBlob);\n                        audioChunksRef.current = [];\n                    }\n                    stream.getTracks().forEach((track)=>track.stop());\n                };\n                recorder.start();\n                // Start interval to check for 3-second pause\n                pauseCheckInterval.current = setInterval(()=>{\n                    if (Date.now() - lastAudioChunkTime.current > 3000 && audioChunksRef.current.length > 0) {\n                        const audioBlob = new Blob(audioChunksRef.current, {\n                            type: \"audio/webm\"\n                        });\n                        processInterviewerAudio(audioBlob);\n                        audioChunksRef.current = [];\n                    }\n                }, 1000);\n                setRecording(true);\n            });\n        }\n    };\n    // Track last audio chunk time for pause detection\n    const lastAudioChunkTime = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(Date.now());\n    const pauseCheckInterval = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n    // Process audio chunk and update last audio chunk time\n    const processAudioChunk = (chunk)=>{\n        lastAudioChunkTime.current = Date.now();\n    // You can implement filtering here if needed before sending\n    // For now, just accumulate chunks and send on pause\n    };\n    // Function to send voice sample to backend\n    const uploadVoiceSample = async (sample)=>{\n        const formData = new FormData();\n        formData.append(\"file\", sample, \"voice_sample.webm\");\n        try {\n            const res = await fetch(\"https://aibotastra-backend.onrender.com/upload-voice-sample/\", {\n                method: \"POST\",\n                body: formData\n            });\n            if (!res.ok) {\n                throw new Error(\"Failed to upload voice sample\");\n            }\n            alert(\"Voice sample uploaded to backend.\");\n        } catch (error) {\n            alert(\"Error uploading voice sample: \" + error.message);\n        }\n    };\n    // Send voice sample to backend when recorded\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (voiceSample) {\n            uploadVoiceSample(voiceSample);\n        }\n    }, [\n        voiceSample\n    ]);\n    // Function to send interviewer audio to backend and get LLM response\n    const processInterviewerAudio = async (audioBlob)=>{\n        const formData = new FormData();\n        formData.append(\"file\", audioBlob, \"interviewer_audio.webm\");\n        try {\n            const res = await fetch(\"https://aibotastra-backend.onrender.com/process-interviewer-audio/\", {\n                method: \"POST\",\n                body: formData\n            });\n            if (!res.ok) {\n                throw new Error(\"Failed to process interviewer audio\");\n            }\n            const data = await res.json();\n            setConversationContext((prev)=>[\n                    ...prev,\n                    data.llm_response\n                ]);\n            setLlmResponse(data.llm_response);\n        } catch (error) {\n            alert(\"Error processing interviewer audio: \" + error.message);\n        }\n    };\n    // Reset conversation context\n    const resetConversation = ()=>{\n        setConversationContext([]);\n        setLlmResponse(\"\");\n    };\n    if (!loggedIn) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LoginPage, {\n            onLoginSuccess: ()=>setLoggedIn(true)\n        }, void 0, false, {\n            fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n            lineNumber: 200,\n            columnNumber: 12\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            maxWidth: 600,\n            margin: \"auto\",\n            padding: 20\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"LLM Conversation\"\n            }, void 0, false, {\n                fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                lineNumber: 205,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                readOnly: true,\n                value: conversationContext.join(\"\\n\\n\"),\n                style: {\n                    width: \"100%\",\n                    height: 200,\n                    padding: 10,\n                    fontSize: 16\n                }\n            }, void 0, false, {\n                fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                lineNumber: 206,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: 10\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: toggleRecording,\n                        style: {\n                            marginRight: 10,\n                            padding: \"8px 16px\"\n                        },\n                        children: recording ? \"Stop Recording\" : \"Start Recording\"\n                    }, void 0, false, {\n                        fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                        lineNumber: 212,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: resetConversation,\n                        style: {\n                            padding: \"8px 16px\"\n                        },\n                        children: \"Reset Conversation\"\n                    }, void 0, false, {\n                        fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                        lineNumber: 215,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n                lineNumber: 211,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/ankitsingh/Desktop/AIBotAstra/pages/index.tsx\",\n        lineNumber: 204,\n        columnNumber: 5\n    }, undefined);\n};\n_s1(HomePage, \"BJeFY8RUHTbgfGtux3UQdz22pKk=\");\n_c1 = HomePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (HomePage);\nvar _c, _c1;\n$RefreshReg$(_c, \"LoginPage\");\n$RefreshReg$(_c1, \"HomePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZLG1CQUFtQjs7Ozs7O2tDQUVsQyw4REFBQ047d0JBQU91RSxTQUFTUDt3QkFBbUJoRixPQUFPOzRCQUFFRyxTQUFTO3dCQUFXO2tDQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNNUU7SUFyS01jO01BQUFBO0FBdUtOLCtEQUFlQSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL2luZGV4LnRzeD8wN2ZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IFVTRVJOQU1FID0gJ2FkbWluJztcbmNvbnN0IFBBU1NXT1JEID0gJ0Fua2l0QDEyMyc7XG5cbnR5cGUgTG9naW5Qcm9wcyA9IHtcbiAgb25Mb2dpblN1Y2Nlc3M6ICgpID0+IHZvaWQ7XG59O1xuXG5jb25zdCBMb2dpblBhZ2U6IFJlYWN0LkZDPExvZ2luUHJvcHM+ID0gKHsgb25Mb2dpblN1Y2Nlc3MgfSkgPT4ge1xuICBjb25zdCBbdXNlcm5hbWUsIHNldFVzZXJuYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHVzZXJuYW1lID09PSBVU0VSTkFNRSAmJiBwYXNzd29yZCA9PT0gUEFTU1dPUkQpIHtcbiAgICAgIHNldEVycm9yKCcnKTtcbiAgICAgIG9uTG9naW5TdWNjZXNzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEVycm9yKCdJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkJyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17eyBtYXhXaWR0aDogNDAwLCBtYXJnaW46ICdhdXRvJywgcGFkZGluZzogMjAgfX0+XG4gICAgICA8aDI+TG9naW48L2gyPlxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAxMCB9fT5cbiAgICAgICAgICA8bGFiZWw+VXNlcm5hbWU6PC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIHZhbHVlPXt1c2VybmFtZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFVzZXJuYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIHBhZGRpbmc6IDggfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDEwIH19PlxuICAgICAgICAgIDxsYWJlbD5QYXNzd29yZDo8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgIHZhbHVlPXtwYXNzd29yZH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIHBhZGRpbmc6IDggfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2Vycm9yICYmIDxkaXYgc3R5bGU9e3sgY29sb3I6ICdyZWQnLCBtYXJnaW5Cb3R0b206IDEwIH19PntlcnJvcn08L2Rpdj59XG4gICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHggMTZweCcgfX0+XG4gICAgICAgICAgTG9naW5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5jb25zdCBIb21lUGFnZTogUmVhY3QuRkMgPSAoKSA9PiB7XG4gIGNvbnN0IFtsb2dnZWRJbiwgc2V0TG9nZ2VkSW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbGxtUmVzcG9uc2UsIHNldExsbVJlc3BvbnNlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3JlY29yZGluZywgc2V0UmVjb3JkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgbWVkaWFSZWNvcmRlclJlZiA9IHVzZVJlZjxNZWRpYVJlY29yZGVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGF1ZGlvQ2h1bmtzUmVmID0gdXNlUmVmPEJsb2JbXT4oW10pO1xuICBjb25zdCBbdm9pY2VTYW1wbGUsIHNldFZvaWNlU2FtcGxlXSA9IHVzZVN0YXRlPEJsb2IgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NhbXBsaW5nLCBzZXRTYW1wbGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb252ZXJzYXRpb25Db250ZXh0LCBzZXRDb252ZXJzYXRpb25Db250ZXh0XSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG5cbiAgLy8gU3RhcnQgcmVjb3JkaW5nIHZvaWNlIHNhbXBsZSBvbiBmaXJzdCBsb2dpblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChsb2dnZWRJbiAmJiAhdm9pY2VTYW1wbGUgJiYgIXNhbXBsaW5nKSB7XG4gICAgICBzZXRTYW1wbGluZyh0cnVlKTtcbiAgICAgIGFsZXJ0KCdQbGVhc2UgcmVjb3JkIGEgc2hvcnQgdm9pY2Ugc2FtcGxlIGJ5IHByZXNzaW5nIE9LIGFuZCBzcGVha2luZyBmb3IgNSBzZWNvbmRzLicpO1xuICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KS50aGVuKHN0cmVhbSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIoc3RyZWFtKTtcbiAgICAgICAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50ID0gcmVjb3JkZXI7XG4gICAgICAgIGF1ZGlvQ2h1bmtzUmVmLmN1cnJlbnQgPSBbXTtcbiAgICAgICAgcmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gZSA9PiB7XG4gICAgICAgICAgYXVkaW9DaHVua3NSZWYuY3VycmVudC5wdXNoKGUuZGF0YSk7XG4gICAgICAgIH07XG4gICAgICAgIHJlY29yZGVyLm9uc3RvcCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBhdWRpb0Jsb2IgPSBuZXcgQmxvYihhdWRpb0NodW5rc1JlZi5jdXJyZW50LCB7IHR5cGU6ICdhdWRpby93ZWJtJyB9KTtcbiAgICAgICAgICBzZXRWb2ljZVNhbXBsZShhdWRpb0Jsb2IpO1xuICAgICAgICAgIHNldFNhbXBsaW5nKGZhbHNlKTtcbiAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgICAgIGFsZXJ0KCdWb2ljZSBzYW1wbGUgcmVjb3JkZWQgYW5kIHNhdmVkLicpO1xuICAgICAgICB9O1xuICAgICAgICByZWNvcmRlci5zdGFydCgpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByZWNvcmRlci5zdG9wKCk7XG4gICAgICAgIH0sIDUwMDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbbG9nZ2VkSW4sIHZvaWNlU2FtcGxlLCBzYW1wbGluZ10pO1xuXG4gIC8vIFN0YXJ0IG9yIHN0b3AgcmVjb3JkaW5nIGNvbnZlcnNhdGlvbiBhbmQgcHJvY2VzcyBhdWRpbyBpbiBjaHVua3Mgd2l0aCBwYXVzZSBkZXRlY3Rpb25cbiAgY29uc3QgdG9nZ2xlUmVjb3JkaW5nID0gKCkgPT4ge1xuICAgIGlmIChyZWNvcmRpbmcpIHtcbiAgICAgIC8vIFN0b3AgcmVjb3JkaW5nXG4gICAgICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQ/LnN0b3AoKTtcbiAgICAgIHNldFJlY29yZGluZyhmYWxzZSk7XG4gICAgICBjbGVhckludGVydmFsKHBhdXNlQ2hlY2tJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgIHBhdXNlQ2hlY2tJbnRlcnZhbC5jdXJyZW50ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3RhcnQgcmVjb3JkaW5nXG4gICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pLnRoZW4oc3RyZWFtID0+IHtcbiAgICAgICAgY29uc3QgcmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pO1xuICAgICAgICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQgPSByZWNvcmRlcjtcbiAgICAgICAgYXVkaW9DaHVua3NSZWYuY3VycmVudCA9IFtdO1xuICAgICAgICByZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSBlID0+IHtcbiAgICAgICAgICBhdWRpb0NodW5rc1JlZi5jdXJyZW50LnB1c2goZS5kYXRhKTtcbiAgICAgICAgICAvLyBQcm9jZXNzIGF1ZGlvIGNodW5rIGltbWVkaWF0ZWx5IGZvciByZWFsLXRpbWUgYmVoYXZpb3JcbiAgICAgICAgICBwcm9jZXNzQXVkaW9DaHVuayhlLmRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICByZWNvcmRlci5vbnN0b3AgPSAoKSA9PiB7XG4gICAgICAgICAgLy8gUHJvY2VzcyBhbnkgcmVtYWluaW5nIGF1ZGlvIGNodW5rc1xuICAgICAgICAgIGlmIChhdWRpb0NodW5rc1JlZi5jdXJyZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvQmxvYiA9IG5ldyBCbG9iKGF1ZGlvQ2h1bmtzUmVmLmN1cnJlbnQsIHsgdHlwZTogJ2F1ZGlvL3dlYm0nIH0pO1xuICAgICAgICAgICAgcHJvY2Vzc0ludGVydmlld2VyQXVkaW8oYXVkaW9CbG9iKTtcbiAgICAgICAgICAgIGF1ZGlvQ2h1bmtzUmVmLmN1cnJlbnQgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVjb3JkZXIuc3RhcnQoKTtcblxuICAgICAgICAvLyBTdGFydCBpbnRlcnZhbCB0byBjaGVjayBmb3IgMy1zZWNvbmQgcGF1c2VcbiAgICAgICAgcGF1c2VDaGVja0ludGVydmFsLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgaWYgKERhdGUubm93KCkgLSBsYXN0QXVkaW9DaHVua1RpbWUuY3VycmVudCA+IDMwMDAgJiYgYXVkaW9DaHVua3NSZWYuY3VycmVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBhdWRpb0Jsb2IgPSBuZXcgQmxvYihhdWRpb0NodW5rc1JlZi5jdXJyZW50LCB7IHR5cGU6ICdhdWRpby93ZWJtJyB9KTtcbiAgICAgICAgICAgIHByb2Nlc3NJbnRlcnZpZXdlckF1ZGlvKGF1ZGlvQmxvYik7XG4gICAgICAgICAgICBhdWRpb0NodW5rc1JlZi5jdXJyZW50ID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKTtcblxuICAgICAgICBzZXRSZWNvcmRpbmcodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVHJhY2sgbGFzdCBhdWRpbyBjaHVuayB0aW1lIGZvciBwYXVzZSBkZXRlY3Rpb25cbiAgY29uc3QgbGFzdEF1ZGlvQ2h1bmtUaW1lID0gUmVhY3QudXNlUmVmKERhdGUubm93KCkpO1xuICBjb25zdCBwYXVzZUNoZWNrSW50ZXJ2YWwgPSBSZWFjdC51c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcblxuICAvLyBQcm9jZXNzIGF1ZGlvIGNodW5rIGFuZCB1cGRhdGUgbGFzdCBhdWRpbyBjaHVuayB0aW1lXG4gIGNvbnN0IHByb2Nlc3NBdWRpb0NodW5rID0gKGNodW5rOiBCbG9iKSA9PiB7XG4gICAgbGFzdEF1ZGlvQ2h1bmtUaW1lLmN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICAgIC8vIFlvdSBjYW4gaW1wbGVtZW50IGZpbHRlcmluZyBoZXJlIGlmIG5lZWRlZCBiZWZvcmUgc2VuZGluZ1xuICAgIC8vIEZvciBub3csIGp1c3QgYWNjdW11bGF0ZSBjaHVua3MgYW5kIHNlbmQgb24gcGF1c2VcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBzZW5kIHZvaWNlIHNhbXBsZSB0byBiYWNrZW5kXG4gIGNvbnN0IHVwbG9hZFZvaWNlU2FtcGxlID0gYXN5bmMgKHNhbXBsZTogQmxvYikgPT4ge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgc2FtcGxlLCAndm9pY2Vfc2FtcGxlLndlYm0nKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYWlib3Rhc3RyYS1iYWNrZW5kLm9ucmVuZGVyLmNvbS91cGxvYWQtdm9pY2Utc2FtcGxlLycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGxvYWQgdm9pY2Ugc2FtcGxlJyk7XG4gICAgICB9XG4gICAgICBhbGVydCgnVm9pY2Ugc2FtcGxlIHVwbG9hZGVkIHRvIGJhY2tlbmQuJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGFsZXJ0KCdFcnJvciB1cGxvYWRpbmcgdm9pY2Ugc2FtcGxlOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFNlbmQgdm9pY2Ugc2FtcGxlIHRvIGJhY2tlbmQgd2hlbiByZWNvcmRlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2b2ljZVNhbXBsZSkge1xuICAgICAgdXBsb2FkVm9pY2VTYW1wbGUodm9pY2VTYW1wbGUpO1xuICAgIH1cbiAgfSwgW3ZvaWNlU2FtcGxlXSk7XG5cbiAgLy8gRnVuY3Rpb24gdG8gc2VuZCBpbnRlcnZpZXdlciBhdWRpbyB0byBiYWNrZW5kIGFuZCBnZXQgTExNIHJlc3BvbnNlXG4gIGNvbnN0IHByb2Nlc3NJbnRlcnZpZXdlckF1ZGlvID0gYXN5bmMgKGF1ZGlvQmxvYjogQmxvYikgPT4ge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgYXVkaW9CbG9iLCAnaW50ZXJ2aWV3ZXJfYXVkaW8ud2VibScpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9haWJvdGFzdHJhLWJhY2tlbmQub25yZW5kZXIuY29tL3Byb2Nlc3MtaW50ZXJ2aWV3ZXItYXVkaW8vJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHByb2Nlc3MgaW50ZXJ2aWV3ZXIgYXVkaW8nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgc2V0Q29udmVyc2F0aW9uQ29udGV4dChwcmV2ID0+IFsuLi5wcmV2LCBkYXRhLmxsbV9yZXNwb25zZV0pO1xuICAgICAgc2V0TGxtUmVzcG9uc2UoZGF0YS5sbG1fcmVzcG9uc2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhbGVydCgnRXJyb3IgcHJvY2Vzc2luZyBpbnRlcnZpZXdlciBhdWRpbzogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXNldCBjb252ZXJzYXRpb24gY29udGV4dFxuICBjb25zdCByZXNldENvbnZlcnNhdGlvbiA9ICgpID0+IHtcbiAgICBzZXRDb252ZXJzYXRpb25Db250ZXh0KFtdKTtcbiAgICBzZXRMbG1SZXNwb25zZSgnJyk7XG4gIH07XG5cbiAgaWYgKCFsb2dnZWRJbikge1xuICAgIHJldHVybiA8TG9naW5QYWdlIG9uTG9naW5TdWNjZXNzPXsoKSA9PiBzZXRMb2dnZWRJbih0cnVlKX0gLz47XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3sgbWF4V2lkdGg6IDYwMCwgbWFyZ2luOiAnYXV0bycsIHBhZGRpbmc6IDIwIH19PlxuICAgICAgPGgyPkxMTSBDb252ZXJzYXRpb248L2gyPlxuICAgICAgPHRleHRhcmVhXG4gICAgICAgIHJlYWRPbmx5XG4gICAgICAgIHZhbHVlPXtjb252ZXJzYXRpb25Db250ZXh0LmpvaW4oJ1xcblxcbicpfVxuICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6IDIwMCwgcGFkZGluZzogMTAsIGZvbnRTaXplOiAxNiB9fVxuICAgICAgLz5cbiAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxMCB9fT5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0b2dnbGVSZWNvcmRpbmd9IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAxMCwgcGFkZGluZzogJzhweCAxNnB4JyB9fT5cbiAgICAgICAgICB7cmVjb3JkaW5nID8gJ1N0b3AgUmVjb3JkaW5nJyA6ICdTdGFydCBSZWNvcmRpbmcnfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtyZXNldENvbnZlcnNhdGlvbn0gc3R5bGU9e3sgcGFkZGluZzogJzhweCAxNnB4JyB9fT5cbiAgICAgICAgICBSZXNldCBDb252ZXJzYXRpb25cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhvbWVQYWdlO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJVU0VSTkFNRSIsIlBBU1NXT1JEIiwiTG9naW5QYWdlIiwib25Mb2dpblN1Y2Nlc3MiLCJ1c2VybmFtZSIsInNldFVzZXJuYW1lIiwicGFzc3dvcmQiLCJzZXRQYXNzd29yZCIsImVycm9yIiwic2V0RXJyb3IiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJkaXYiLCJzdHlsZSIsIm1heFdpZHRoIiwibWFyZ2luIiwicGFkZGluZyIsImgyIiwiZm9ybSIsIm9uU3VibWl0IiwibWFyZ2luQm90dG9tIiwibGFiZWwiLCJpbnB1dCIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwid2lkdGgiLCJjb2xvciIsImJ1dHRvbiIsIkhvbWVQYWdlIiwibG9nZ2VkSW4iLCJzZXRMb2dnZWRJbiIsImxsbVJlc3BvbnNlIiwic2V0TGxtUmVzcG9uc2UiLCJyZWNvcmRpbmciLCJzZXRSZWNvcmRpbmciLCJtZWRpYVJlY29yZGVyUmVmIiwiYXVkaW9DaHVua3NSZWYiLCJ2b2ljZVNhbXBsZSIsInNldFZvaWNlU2FtcGxlIiwic2FtcGxpbmciLCJzZXRTYW1wbGluZyIsImNvbnZlcnNhdGlvbkNvbnRleHQiLCJzZXRDb252ZXJzYXRpb25Db250ZXh0IiwiYWxlcnQiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJhdWRpbyIsInRoZW4iLCJzdHJlYW0iLCJyZWNvcmRlciIsIk1lZGlhUmVjb3JkZXIiLCJjdXJyZW50Iiwib25kYXRhYXZhaWxhYmxlIiwicHVzaCIsImRhdGEiLCJvbnN0b3AiLCJhdWRpb0Jsb2IiLCJCbG9iIiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInRyYWNrIiwic3RvcCIsInN0YXJ0Iiwic2V0VGltZW91dCIsInRvZ2dsZVJlY29yZGluZyIsImNsZWFySW50ZXJ2YWwiLCJwYXVzZUNoZWNrSW50ZXJ2YWwiLCJwcm9jZXNzQXVkaW9DaHVuayIsImxlbmd0aCIsInByb2Nlc3NJbnRlcnZpZXdlckF1ZGlvIiwic2V0SW50ZXJ2YWwiLCJEYXRlIiwibm93IiwibGFzdEF1ZGlvQ2h1bmtUaW1lIiwiY2h1bmsiLCJ1cGxvYWRWb2ljZVNhbXBsZSIsInNhbXBsZSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJvayIsIkVycm9yIiwibWVzc2FnZSIsImpzb24iLCJwcmV2IiwibGxtX3Jlc3BvbnNlIiwicmVzZXRDb252ZXJzYXRpb24iLCJ0ZXh0YXJlYSIsInJlYWRPbmx5Iiwiam9pbiIsImhlaWdodCIsImZvbnRTaXplIiwibWFyZ2luVG9wIiwib25DbGljayIsIm1hcmdpblJpZ2h0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/index.tsx\n"));

/***/ })

});